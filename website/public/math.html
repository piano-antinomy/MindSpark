<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mathematics Learning - MindSpark</title>
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="css/math-java.css">
    
    <!-- MathJax for LaTeX rendering -->
    <script>
        window.MathJax = {
            tex: {
                inlineMath: [['$', '$'], ['\\(', '\\)']],
                displayMath: [['$$', '$$'], ['\\[', '\\]']],
                processEscapes: true,
                processEnvironments: true,
                packages: {'[+]': ['textmacros']}
            },
            options: {
                skipHtmlTags: ['script', 'noscript', 'style', 'textarea', 'pre']
            }
        };
    </script>
    <script async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
</head>
<body>
    <div class="math-layout">
        <!-- Aside for header information -->
        <aside class="math-aside">
            <div class="aside-content">
                <div class="aside-header">
                    <h1>üìä Mathematics</h1>
                    <nav class="breadcrumb">
                        <a href="dashboard.html">Dashboard</a> > 
                        <a href="subjects.html">Subjects</a> > 
                        Mathematics
                    </nav>
                </div>
                
                <!-- Level and progress info will be moved here -->
                <div id="asideInfo" class="aside-info">
                    <!-- Dynamic content will be inserted here -->
                </div>
                
                <!-- Navigation controls -->
                <div class="aside-navigation">
                    <button id="backToLevelsBtn" class="btn btn-secondary" style="display: none;">‚Üê Back to Levels</button>
                    <button id="backToYearsBtn" class="btn btn-secondary" style="display: none;">‚Üê Back to Years</button>
                </div>
            </div>
        </aside>

        <!-- Main content area -->
        <main class="math-main-content">
            <!-- Assessment Section -->
            <section id="assessmentSection" class="math-section">
                <div class="section-card">
                    <h2>üéØ Let's Find Your Math Level</h2>
                    <p>Take a quick assessment to personalize your learning experience</p>
                    <button id="startAssessmentBtn" class="btn btn-primary">Start Assessment</button>
                </div>
            </section>

            <!-- Assessment Questions -->
            <section id="assessmentQuestions" class="math-section" style="display: none;">
                <div class="section-card">
                    <h2>Assessment Questions</h2>
                    <div id="questionsContainer">
                        <!-- Questions will be loaded here -->
                    </div>
                    <button id="submitAssessmentBtn" class="btn btn-primary" style="display: none;">Submit Assessment</button>
                </div>
            </section>

            <!-- Topics Section -->
            <section id="topicsSection" class="math-section" style="display: none;">
                <div class="section-card">
                    <h2>üìö Available Topics</h2>
                    <div id="topicsContainer" class="topics-grid">
                        <!-- Topics will be loaded here -->
                    </div>
                </div>
            </section>

            <!-- Lesson Section -->
            <section id="lessonSection" class="math-section" style="display: none;">
                <div class="section-card">
                    <div class="lesson-header">
                        <h2 id="lessonTitle">Lesson Title</h2>
                    </div>
                    <div id="lessonContent" class="lesson-content">
                        <!-- Lesson content will be loaded here -->
                    </div>
                    <div class="lesson-actions">
                        <button id="takeQuizBtn" class="btn btn-primary">Take Quiz</button>
                    </div>
                </div>
            </section>

            <!-- Quiz Section -->
            <section id="quizSection" class="math-section" style="display: none;">
                <div class="section-card">
                    <div class="quiz-header">
                        <h2 id="quizTitle">Quiz: Topic Name</h2>
                        <div class="quiz-progress">
                            <span id="questionCounter">Question 1 of 5</span>
                        </div>
                    </div>
                    <div id="quizContainer">
                        <!-- Quiz questions will be loaded here -->
                    </div>
                    <div class="quiz-actions">
                        <button id="nextQuestionBtn" class="btn btn-primary" style="display: none;">Next Question</button>
                        <button id="submitQuizBtn" class="btn btn-primary" style="display: none;">Submit Quiz</button>
                        <button id="backToLessonBtn" class="btn btn-secondary">‚Üê Back to Lesson</button>
                    </div>
                </div>
            </section>

            <!-- Results Section -->
            <section id="resultsSection" class="math-section" style="display: none;">
                <div class="section-card">
                    <h2>üéâ Quiz Results</h2>
                    <div id="resultsContent" class="results-content">
                        <!-- Results will be shown here -->
                    </div>
                    <div class="results-actions">
                        <button id="backToTopicsFromResults" class="btn btn-primary">Continue Learning</button>
                        <button id="retakeQuizBtn" class="btn btn-secondary">Retake Quiz</button>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <!-- Include question renderer module first -->
    <script src="js/question-renderer.js"></script>
    <script src="js/math.js"></script>
</body>
</html> 